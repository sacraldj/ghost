# GHOST Telegram Listener Configuration
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram API
telegram:
  # –ü–æ–ª—É—á–∏—Ç—å –Ω–∞ https://my.telegram.org/auth
  api_id: ${TELEGRAM_API_ID}
  api_hash: ${TELEGRAM_API_HASH}
  session_name: "ghost_listener"
  # –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞
  phone_number: ${TELEGRAM_PHONE}

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ Redis
redis:
  enabled: true
  url: redis://localhost:6379/1
  password: null
  signals_queue: "ghost:signals:new"
  max_queue_size: 1000

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
database:
  signals_table: "trading_signals"
  traders_table: "trader_stats"
  channels_table: "telegram_channels"

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
parsing:
  # –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞
  min_confidence: 0.6
  # –°–æ—Ö—Ä–∞–Ω—è—Ç—å –ª–∏ –≤—Å–µ —Å–∏–≥–Ω–∞–ª—ã (–≤–∫–ª—é—á–∞—è –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–µ)
  save_all_signals: true
  save_invalid_signals: false
  # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ (–º–∏–Ω—É—Ç—ã)
  max_message_age: 5
  
# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
monitoring:
  health_check_interval: 60  # —Å–µ–∫—É–Ω–¥—ã
  stats_update_interval: 300  # —Å–µ–∫—É–Ω–¥—ã
  max_processing_time: 30     # —Å–µ–∫—É–Ω–¥—ã –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ

# –ö–∞–Ω–∞–ª—ã –¥–ª—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
channels:
  # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞
  - id: "@example_signals"
    name: "Example Trading Signals"
    trader_name: "ExampleTrader"
    enabled: false  # –û—Ç–∫–ª—é—á–µ–Ω –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    parser_type: "default"
    priority: 3
    min_confidence: 0.7
    signal_patterns:
      - "LONG"
      - "SHORT" 
      - "BUY"
      - "SELL"
    
  # –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–∞–Ω–∞–ª—ã –∑–¥–µ—Å—å
  # - id: "@real_channel_1"
  #   name: "Real Trading Channel 1"
  #   trader_name: "Trader1"
  #   enabled: true
  #   parser_type: "custom_parser_1"
  #   priority: 5
  #   min_confidence: 0.8
  
  # - id: -1001234567890  # –ß–∏—Å–ª–æ–≤–æ–π ID –∫–∞–Ω–∞–ª–∞
  #   name: "Private Channel"
  #   trader_name: "PrivateTrader"
  #   enabled: true
  #   parser_type: "default"
  #   priority: 4

# –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–∞—Ä—Å–µ—Ä—ã –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤
custom_parsers:
  # –ü–∞—Ä—Å–µ—Ä –¥–ª—è –∫–∞–Ω–∞–ª–∞ "2Trade - slivaeminfo"
  parser_2trade:
    class_name: "Parser2Trade"
    patterns:
      symbol: '([A-Z]+/USDT|[A-Z]+USDT)'
      direction: '(LONG|SHORT)'
      entry: '(?:Entry|–í—Ö–æ–¥)[\s:]*([0-9.,\-\s]+)'
      tp: '(?:TP|Target)[\s:]*([0-9.,\-\s]+)'
      sl: '(?:SL|Stop)[\s:]*([0-9.,\-\s]+)'
  
  # –ü–∞—Ä—Å–µ—Ä –¥–ª—è –∫–∞–Ω–∞–ª–∞ "Crypto Hub"
  parser_crypto_hub:
    class_name: "ParserCryptoHub"
    patterns:
      symbol: 'üî•\s*([A-Z]+/USDT)'
      direction: 'üìà\s*(LONG|SHORT)'
      entry: 'Entry:\s*([0-9.,\-\s]+)'
      tp: 'TP[1-9]?:\s*([0-9.,\-\s]+)'
      sl: 'SL:\s*([0-9.,\-\s]+)'

# –§–∏–ª—å—Ç—Ä—ã —Å–∏–≥–Ω–∞–ª–æ–≤
filters:
  # –°–∏–º–≤–æ–ª—ã –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
  allowed_symbols:
    - "BTCUSDT"
    - "ETHUSDT" 
    - "BNBUSDT"
    - "ADAUSDT"
    - "SOLUSDT"
    - "XRPUSDT"
    - "DOTUSDT"
    - "AVAXUSDT"
    - "MATICUSDT"
    - "LINKUSDT"
  
  # –ó–∞–ø—Ä–µ—â—ë–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
  blocked_symbols:
    - "LUNAUSDT"  # –ü—Ä–∏–º–µ—Ä –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –º–æ–Ω–µ—Ç—ã
  
  # –§–∏–ª—å—Ç—Ä—ã –ø–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º
  min_tp_levels: 1        # –ú–∏–Ω–∏–º—É–º TP —É—Ä–æ–≤–Ω–µ–π
  max_leverage: 50        # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –ø–ª–µ—á–æ
  min_risk_reward: 1.5    # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Ä–∏—Å–∫/–ø—Ä–∏–±—ã–ª—å

# –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
notifications:
  telegram_bot:
    enabled: false
    bot_token: ${TELEGRAM_BOT_TOKEN}
    admin_chat_id: ${TELEGRAM_ADMIN_CHAT_ID}
    notify_on_errors: true
    notify_on_signals: false  # –¢–æ–ª—å–∫–æ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Å–∏–≥–Ω–∞–ª—ã
  
  webhook:
    enabled: false
    url: ${SIGNAL_WEBHOOK_URL}
    secret: ${WEBHOOK_SECRET}

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
analytics:
  # –ú–µ—Ç—Ä–∏–∫–∏ —Ç—Ä–µ–π–¥–µ—Ä–æ–≤
  trader_metrics:
    track_win_rate: true
    track_avg_roi: true
    track_signal_frequency: true
    update_interval: 3600  # —Å–µ–∫—É–Ω–¥—ã
  
  # –ú–µ—Ç—Ä–∏–∫–∏ –∫–∞–Ω–∞–ª–æ–≤
  channel_metrics:
    track_message_volume: true
    track_signal_quality: true
    track_response_time: true

# –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã
modes:
  # –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
  development:
    mock_channels: true
    log_all_messages: true
    save_raw_messages: true
  
  # –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
  testing:
    dry_run: true
    mock_telegram: false
    limited_channels: true
  
  # –ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
  production:
    mock_channels: false
    log_all_messages: false
    save_raw_messages: false

# –¢–µ–∫—É—â–∏–π —Ä–µ–∂–∏–º
current_mode: development

# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
logging:
  level: INFO
  file: "logs/telegram_listener.log"
  max_size: 10485760  # 10MB
  backup_count: 5
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
